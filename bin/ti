#!/usr/bin/env ruby

# This is a command line client that does all the actual tic commands
# 
# author : Scott Chacon (schacon@gmail.com)
#

require 'rubygems'
require 'fileutils'

# Determine if we're running within a source tree. If so, use the
# version of ticgit inside the source tree instead of one installed by
# the packaging system or rubygems.
parents = File.expand_path(File.dirname(__FILE__)).split(File::SEPARATOR)
parents.each do
    if Dir.glob '.git'
	require File.join(File.dirname(__FILE__), '..', 'lib', 'ticgit')
	break
    end
    FileUtils.cd '..'
end

# Load the system library unless a source tree version was already
# loaded above.
require 'ticgit'

TicGit::CLI.execute
